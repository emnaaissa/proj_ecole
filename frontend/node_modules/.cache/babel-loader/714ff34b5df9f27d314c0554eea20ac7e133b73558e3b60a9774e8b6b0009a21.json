{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\proj-dalal\\\\frontend\\\\src\\\\enseignant\\\\EnseignantList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Button, Form, Modal } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EnseignantForm = ({\n  enseignant,\n  onClose\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    telephone: '',\n    matiere: '',\n    adresse: '',\n    sexe: '',\n    dateNaissance: '',\n    salaire: ''\n  });\n  const [show, setShow] = useState(false);\n  useEffect(() => {\n    if (enseignant) {\n      setFormData(enseignant);\n      setShow(true);\n    } else {\n      setFormData({\n        nom: '',\n        prenom: '',\n        email: '',\n        telephone: '',\n        matiere: '',\n        adresse: '',\n        sexe: '',\n        dateNaissance: '',\n        salaire: ''\n      });\n      setShow(true); // Ensure the form opens when adding a new enseignant\n    }\n  }, [enseignant]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (enseignant) {\n        await axios.put(`http://localhost:9091/api/enseignants/${enseignant.id}`, formData);\n      } else {\n        await axios.post('http://localhost:9091/api/enseignants', formData);\n      }\n      setShow(false); // Close the modal after form submission\n      onClose(); // Trigger onClose callback to refresh data in the parent component\n    } catch (error) {\n      console.error('Error submitting the form:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: () => setShow(true),\n      children: \"Ajouter Enseignant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: onClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: enseignant ? 'Modifier Enseignant' : 'Ajouter Enseignant'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [Object.keys(formData).map(key => /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: key,\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: key.charAt(0).toUpperCase() + key.slice(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: key,\n              value: formData[key],\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: enseignant ? 'Modifier' : 'Ajouter'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(EnseignantForm, \"vACZA4W8eNLhlG+gETW414vzJnI=\");\n_c = EnseignantForm;\nexport default EnseignantForm;\nvar _c;\n$RefreshReg$(_c, \"EnseignantForm\");","map":{"version":3,"names":["React","useEffect","useState","axios","Button","Form","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","EnseignantForm","enseignant","onClose","_s","formData","setFormData","nom","prenom","email","telephone","matiere","adresse","sexe","dateNaissance","salaire","show","setShow","handleChange","e","name","value","target","handleSubmit","preventDefault","put","id","post","error","console","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onHide","Header","closeButton","Title","Body","onSubmit","Object","keys","map","key","Group","controlId","Label","charAt","toUpperCase","slice","Control","type","onChange","required","_c","$RefreshReg$"],"sources":["C:/Users/MSI/Desktop/proj-dalal/frontend/src/enseignant/EnseignantList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Form, Modal } from 'react-bootstrap';\r\n\r\nconst EnseignantForm = ({ enseignant, onClose }) => {\r\n    const [formData, setFormData] = useState({\r\n        nom: '',\r\n        prenom: '',\r\n        email: '',\r\n        telephone: '',\r\n        matiere: '',\r\n        adresse: '',\r\n        sexe: '',\r\n        dateNaissance: '',\r\n        salaire: ''\r\n    });\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (enseignant) {\r\n            setFormData(enseignant);\r\n            setShow(true);\r\n        } else {\r\n            setFormData({\r\n                nom: '',\r\n                prenom: '',\r\n                email: '',\r\n                telephone: '',\r\n                matiere: '',\r\n                adresse: '',\r\n                sexe: '',\r\n                dateNaissance: '',\r\n                salaire: ''\r\n            });\r\n            setShow(true); // Ensure the form opens when adding a new enseignant\r\n        }\r\n    }, [enseignant]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        try {\r\n            if (enseignant) {\r\n                await axios.put(`http://localhost:9091/api/enseignants/${enseignant.id}`, formData);\r\n            } else {\r\n                await axios.post('http://localhost:9091/api/enseignants', formData);\r\n            }\r\n            setShow(false);  // Close the modal after form submission\r\n            onClose();       // Trigger onClose callback to refresh data in the parent component\r\n        } catch (error) {\r\n            console.error('Error submitting the form:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button variant=\"primary\" onClick={() => setShow(true)}>\r\n                Ajouter Enseignant\r\n            </Button>\r\n\r\n            <Modal show={show} onHide={onClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{enseignant ? 'Modifier Enseignant' : 'Ajouter Enseignant'}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        {Object.keys(formData).map((key) => (\r\n                            <Form.Group key={key} controlId={key}>\r\n                                <Form.Label>{key.charAt(0).toUpperCase() + key.slice(1)}</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    name={key}\r\n                                    value={formData[key]}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                            </Form.Group>\r\n                        ))}\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            {enseignant ? 'Modifier' : 'Ajouter'}\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EnseignantForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}